import{g as Ot}from"./commonjsHelpers-CqkleIqs.js";var X={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */var ot;function Et(){return ot||(ot=1,(function(nt,Pt){(function(_,$){nt.exports=$()})(self,(()=>(()=>{var _={d:(l,t)=>{for(var e in t)_.o(t,e)&&!_.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:t[e]})},o:(l,t)=>Object.prototype.hasOwnProperty.call(l,t),r:l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}},$={};_.d($,{default:()=>S});var B={};function q(l,t,e,n,r={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);for(const o of t)for(const i of e)o[l](i,n,{capture:!1,...r});return Array.prototype.slice.call(arguments,1)}_.r(B),_.d(B,{adjustableInputNumbers:()=>Y,createElementFromString:()=>R,createFromTemplate:()=>G,eventPath:()=>K,off:()=>y,on:()=>m,resolveElement:()=>W});const m=q.bind(null,"addEventListener"),y=q.bind(null,"removeEventListener");function R(l){const t=document.createElement("div");return t.innerHTML=l.trim(),t.firstElementChild}function G(l){const t=(n,r)=>{const o=n.getAttribute(r);return n.removeAttribute(r),o},e=(n,r={})=>{const o=t(n,":obj"),i=t(n,":ref"),a=o?r[o]={}:r;i&&(r[i]=n);for(const s of Array.from(n.children)){const c=t(s,":arr"),p=e(s,c?{}:a);c&&(a[c]||(a[c]=[])).push(Object.keys(p).length?p:s)}return r};return e(R(l))}function K(l){let t=l.path||l.composedPath&&l.composedPath();if(t)return t;let e=l.target.parentElement;for(t=[l.target,e];e=e.parentElement;)t.push(e);return t.push(document,window),t}function W(l){return l instanceof Element?l:typeof l=="string"?l.split(/>>/g).reduce(((t,e,n,r)=>(t=t.querySelector(e),n<r.length-1?t.shadowRoot:t)),document):null}function Y(l,t=(e=>e)){function e(n){const r=[.001,.01,.1][Number(n.shiftKey||2*n.ctrlKey)]*(n.deltaY<0?1:-1);let o=0,i=l.selectionStart;l.value=l.value.replace(/[\d.]+/g,((a,s)=>s<=i&&s+a.length>=i?(i=s,t(Number(a),r,o)):(o++,a))),l.focus(),l.setSelectionRange(i,i),n.preventDefault(),l.dispatchEvent(new Event("input"))}m(l,"focus",(()=>m(window,"wheel",e,{passive:!1}))),m(l,"blur",(()=>y(window,"wheel",e)))}const{min:C,max:it,floor:st,round:rt}=Math;function j(l,t,e){t/=100,e/=100;const n=st(l=l/360*6),r=l-n,o=e*(1-t),i=e*(1-r*t),a=e*(1-(1-r)*t),s=n%6;return[255*[e,i,o,o,a,e][s],255*[a,e,e,i,o,o][s],255*[o,o,a,e,e,i][s]]}function at(l,t,e){const n=(2-(t/=100))*(e/=100)/2;return n!==0&&(t=n===1?0:n<.5?t*e/(2*n):t*e/(2-2*n)),[l,100*t,100*n]}function D(l,t,e){const n=C(l/=255,t/=255,e/=255),r=it(l,t,e),o=r-n;let i,a;if(o===0)i=a=0;else{a=o/r;const s=((r-l)/6+o/2)/o,c=((r-t)/6+o/2)/o,p=((r-e)/6+o/2)/o;l===r?i=p-c:t===r?i=1/3+s-p:e===r&&(i=2/3+c-s),i<0?i+=1:i>1&&(i-=1)}return[360*i,100*a,100*r]}function lt(l,t,e,n){return t/=100,e/=100,[...D(255*(1-C(1,(l/=100)*(1-(n/=100))+n)),255*(1-C(1,t*(1-n)+n)),255*(1-C(1,e*(1-n)+n)))]}function ct(l,t,e){t/=100;const n=2*(t*=(e/=100)<.5?e:1-e)/(e+t)*100,r=100*(e+t);return[l,isNaN(n)?0:n,r]}function pt(l){return D(...l.match(/.{2}/g).map((t=>parseInt(t,16))))}function ut(l){l=l.match(/^[a-zA-Z]+$/)?(function(r){if(r.toLowerCase()==="black")return"#000";const o=document.createElement("canvas").getContext("2d");return o.fillStyle=r,o.fillStyle==="#000"?null:o.fillStyle})(l):l;const t={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},e=r=>r.map((o=>/^(|\d+)\.\d+|\d+$/.test(o)?Number(o):void 0));let n;t:for(const r in t)if(n=t[r].exec(l))switch(r){case"cmyk":{const[,o,i,a,s]=e(n);if(o>100||i>100||a>100||s>100)break t;return{values:lt(o,i,a,s),type:r}}case"rgba":{let[,o,,i,,a,,,s]=e(n);if(o=n[2]==="%"?o/100*255:o,i=n[4]==="%"?i/100*255:i,a=n[6]==="%"?a/100*255:a,s=n[9]==="%"?s/100:s,o>255||i>255||a>255||s<0||s>1)break t;return{values:[...D(o,i,a),s],a:s,type:r}}case"hexa":{let[,o]=n;o.length!==4&&o.length!==3||(o=o.split("").map((s=>s+s)).join(""));const i=o.substring(0,6);let a=o.substring(6);return a=a?parseInt(a,16)/255:void 0,{values:[...pt(i),a],a,type:r}}case"hsla":{let[,o,i,a,,s]=e(n);if(s=n[6]==="%"?s/100:s,o>360||i>100||a>100||s<0||s>1)break t;return{values:[...ct(o,i,a),s],a:s,type:r}}case"hsva":{let[,o,i,a,,s]=e(n);if(s=n[6]==="%"?s/100:s,o>360||i>100||a>100||s<0||s>1)break t;return{values:[o,i,a,s],a:s,type:r}}}return{values:null,type:null}}function k(l=0,t=0,e=0,n=1){const r=(i,a)=>(s=-1)=>a(~s?i.map((c=>Number(c.toFixed(s)))):i),o={h:l,s:t,v:e,a:n,toHSVA(){const i=[o.h,o.s,o.v,o.a];return i.toString=r(i,(a=>`hsva(${a[0]}, ${a[1]}%, ${a[2]}%, ${o.a})`)),i},toHSLA(){const i=[...at(o.h,o.s,o.v),o.a];return i.toString=r(i,(a=>`hsla(${a[0]}, ${a[1]}%, ${a[2]}%, ${o.a})`)),i},toRGBA(){const i=[...j(o.h,o.s,o.v),o.a];return i.toString=r(i,(a=>`rgba(${a[0]}, ${a[1]}, ${a[2]}, ${o.a})`)),i},toCMYK(){const i=(function(a,s,c){const p=j(a,s,c),u=p[0]/255,d=p[1]/255,h=p[2]/255,f=C(1-u,1-d,1-h);return[100*(f===1?0:(1-u-f)/(1-f)),100*(f===1?0:(1-d-f)/(1-f)),100*(f===1?0:(1-h-f)/(1-f)),100*f]})(o.h,o.s,o.v);return i.toString=r(i,(a=>`cmyk(${a[0]}%, ${a[1]}%, ${a[2]}%, ${a[3]}%)`)),i},toHEXA(){const i=(function(s,c,p){return j(s,c,p).map((u=>rt(u).toString(16).padStart(2,"0")))})(o.h,o.s,o.v),a=o.a>=1?"":Number((255*o.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return a&&i.push(a),i.toString=()=>`#${i.join("").toUpperCase()}`,i},clone:()=>k(o.h,o.s,o.v,o.a)};return o}const x=l=>Math.max(Math.min(l,1),0);function H(l){const t={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},l),_keyboard(o){const{options:i}=t,{type:a,key:s}=o;if(document.activeElement===i.wrapper){const{lock:c}=t.options,p=s==="ArrowUp",u=s==="ArrowRight",d=s==="ArrowDown",h=s==="ArrowLeft";if(a==="keydown"&&(p||u||d||h)){let f=0,v=0;c==="v"?f=p||u?1:-1:c==="h"?f=p||u?-1:1:(v=p?-1:d?1:0,f=h?-1:u?1:0),t.update(x(t.cache.x+.01*f),x(t.cache.y+.01*v)),o.preventDefault()}else s.startsWith("Arrow")&&(t.options.onstop(),o.preventDefault())}},_tapstart(o){m(document,["mouseup","touchend","touchcancel"],t._tapstop),m(document,["mousemove","touchmove"],t._tapmove),o.cancelable&&o.preventDefault(),t._tapmove(o)},_tapmove(o){const{options:i,cache:a}=t,{lock:s,element:c,wrapper:p}=i,u=p.getBoundingClientRect();let d=0,h=0;if(o){const w=o&&o.touches&&o.touches[0];d=o?(w||o).clientX:0,h=o?(w||o).clientY:0,d<u.left?d=u.left:d>u.left+u.width&&(d=u.left+u.width),h<u.top?h=u.top:h>u.top+u.height&&(h=u.top+u.height),d-=u.left,h-=u.top}else a&&(d=a.x*u.width,h=a.y*u.height);s!=="h"&&(c.style.left=`calc(${d/u.width*100}% - ${c.offsetWidth/2}px)`),s!=="v"&&(c.style.top=`calc(${h/u.height*100}% - ${c.offsetHeight/2}px)`),t.cache={x:d/u.width,y:h/u.height};const f=x(d/u.width),v=x(h/u.height);switch(s){case"v":return i.onchange(f);case"h":return i.onchange(v);default:return i.onchange(f,v)}},_tapstop(){t.options.onstop(),y(document,["mouseup","touchend","touchcancel"],t._tapstop),y(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(o=0,i=0){const{left:a,top:s,width:c,height:p}=t.options.wrapper.getBoundingClientRect();t.options.lock==="h"&&(i=o),t._tapmove({clientX:a+c*o,clientY:s+p*i})},destroy(){const{options:o,_tapstart:i,_keyboard:a}=t;y(document,["keydown","keyup"],a),y([o.wrapper,o.element],"mousedown",i),y([o.wrapper,o.element],"touchstart",i,{passive:!1})}},{options:e,_tapstart:n,_keyboard:r}=t;return m([e.wrapper,e.element],"mousedown",n),m([e.wrapper,e.element],"touchstart",n,{passive:!1}),m(document,["keydown","keyup"],r),t}function ht(l={}){l=Object.assign({onchange:()=>0,className:"",elements:[]},l);const t=m(l.elements,"click",(e=>{l.elements.forEach((n=>n.classList[e.target===n?"add":"remove"](l.className))),l.onchange(e),e.stopPropagation()}));return{destroy:()=>y(...t)}}const dt={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},ft=(l,t,e)=>{const n=typeof l!="object"||l instanceof HTMLElement?{reference:l,popper:t,...e}:l;return{update(r=n){const{reference:o,popper:i}=Object.assign(n,r);if(!i||!o)throw new Error("Popper- or reference-element missing.");return((a,s,c)=>{const{container:p,arrow:u,margin:d,padding:h,position:f,variantFlipOrder:v,positionFlipOrder:w}={container:document.documentElement.getBoundingClientRect(),...dt,...c},{left:F,top:N}=s.style;s.style.left="0",s.style.top="0";const b=a.getBoundingClientRect(),g=s.getBoundingClientRect(),mt={t:b.top-g.height-d,b:b.bottom+d,r:b.right+d,l:b.left-g.width-d},vt={vs:b.left,vm:b.left+b.width/2-g.width/2,ve:b.left+b.width-g.width,hs:b.top,hm:b.bottom-b.height/2-g.height/2,he:b.bottom-g.height},[bt,gt="middle"]=f.split("-"),yt=w[bt],_t=v[gt],{top:Z,left:J,bottom:Q,right:tt}=p;for(const O of yt){const A=O==="t"||O==="b";let E=mt[O];const[T,M]=A?["top","left"]:["left","top"],[U,V]=A?[g.height,g.width]:[g.width,g.height],[wt,At]=A?[Q,tt]:[tt,Q],[$t,Ct]=A?[Z,J]:[J,Z];if(!(E<$t||E+U+h>wt))for(const z of _t){let L=vt[(A?"v":"h")+z];if(!(L<Ct||L+V+h>At)){if(L-=g[M],E-=g[T],s.style[M]=`${L}px`,s.style[T]=`${E}px`,u){const I=A?b.width/2:b.height/2,P=V/2,et=I>P,kt=L+{s:et?P:I,m:P,e:et?P:V-I}[z],St=E+{t:U,b:0,r:0,l:U}[O];u.style[M]=`${kt}px`,u.style[T]=`${St}px`}return O+z}}}return s.style.left=F,s.style.top=N,null})(o,i,n)}}};class S{static utils=B;static version="1.9.1";static I18N_DEFAULTS={"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"};static DEFAULT_OPTIONS={appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"};_initializingActive=!0;_recalc=!0;_nanopop=null;_root=null;_color=k();_lastColor=k();_swatchColors=[];_setupAnimationFrame=null;_eventListener={init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]};constructor(t){this.options=t=Object.assign({...S.DEFAULT_OPTIONS},t);const{swatches:e,components:n,theme:r,sliders:o,lockOpacity:i,padding:a}=t;["nano","monolith"].includes(r)&&!o&&(t.sliders="h"),n.interaction||(n.interaction={});const{preview:s,opacity:c,hue:p,palette:u}=n;n.opacity=!i&&c,n.palette=u||s||c||p,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach((v=>this.addSwatch(v)));const{button:d,app:h}=this._root;this._nanopop=ft(d,h,{margin:a}),d.setAttribute("role","button"),d.setAttribute("aria-label",this._t("btn:toggle"));const f=this;this._setupAnimationFrame=requestAnimationFrame((function v(){if(!h.offsetWidth)return requestAnimationFrame(v);f.setColor(t.default),f._rePositioningPicker(),t.defaultRepresentation&&(f._representation=t.defaultRepresentation,f.setColorRepresentation(f._representation)),t.showAlways&&f.show(),f._initializingActive=!1,f._emit("init")}))}static create=t=>new S(t);_preBuild(){const{options:t}=this;for(const e of["el","container"])t[e]=W(t[e]);this._root=(e=>{const{components:n,useAsButton:r,inline:o,appClass:i,theme:a,lockOpacity:s}=e.options,c=h=>h?"":'style="display:none" hidden',p=h=>e._t(h),u=G(`
      <div :ref="root" class="pickr">

        ${r?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${i||""}" data-theme="${a}" ${o?'style="position: unset"':""} aria-label="${p("ui:dialog")}" role="window">
          <div class="pcr-selection" ${c(n.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${c(n.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${p("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${p("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${c(n.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${p("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${c(n.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${p("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${n.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${c(Object.keys(n.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${c(n.interaction.input)} aria-label="${p("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${s?"HEX":"HEXA"}" type="button" ${c(n.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${s?"RGB":"RGBA"}" type="button" ${c(n.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${s?"HSL":"HSLA"}" type="button" ${c(n.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${s?"HSV":"HSVA"}" type="button" ${c(n.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${c(n.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${p("btn:save")}" type="button" ${c(n.interaction.save)} aria-label="${p("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${p("btn:cancel")}" type="button" ${c(n.interaction.cancel)} aria-label="${p("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${p("btn:clear")}" type="button" ${c(n.interaction.clear)} aria-label="${p("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),d=u.interaction;return d.options.find((h=>!h.hidden&&!h.classList.add("active"))),d.type=()=>d.options.find((h=>h.classList.contains("active"))),u})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const n=t.el.parentElement;t.el.nextSibling?n.insertBefore(e.app,t.el.nextSibling):n.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,n=(t.options.sliders||"v").repeat(2),[r,o]=n.match(/^[vh]+$/g)?n:[],i=()=>this._color||(this._color=this._lastColor.clone()),a={palette:H({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit("changestop","slider",t),onchange(s,c){if(!e.palette)return;const p=i(),{_root:u,options:d}=t,{lastColor:h,currentColor:f}=u.preview;t._recalc&&(p.s=100*s,p.v=100-100*c,p.v<0&&(p.v=0),t._updateOutput("slider"));const v=p.toRGBA().toString(0);this.element.style.background=v,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${p.a}), transparent),
                        linear-gradient(to left, hsla(${p.h}, 100%, 50%, ${p.a}), rgba(255, 255, 255, ${p.a}))
                    `,d.comparison?d.useAsButton||t._lastColor||h.style.setProperty("--pcr-color",v):(u.button.style.setProperty("--pcr-color",v),u.button.classList.remove("clear"));const w=p.toHEXA().toString();for(const{el:F,color:N}of t._swatchColors)F.classList[w===N.toHEXA().toString()?"add":"remove"]("pcr-active");f.style.setProperty("--pcr-color",v)}}),hue:H({lock:o==="v"?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit("changestop","slider",t),onchange(s){if(!e.hue||!e.palette)return;const c=i();t._recalc&&(c.h=360*s),this.element.style.backgroundColor=`hsl(${c.h}, 100%, 50%)`,a.palette.trigger()}}),opacity:H({lock:r==="v"?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit("changestop","slider",t),onchange(s){if(!e.opacity||!e.palette)return;const c=i();t._recalc&&(c.a=Math.round(100*s)/100),this.element.style.background=`rgba(0, 0, 0, ${c.a})`,a.palette.trigger()}}),selectable:ht({elements:t._root.interaction.options,className:"active",onchange(s){t._representation=s.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput("swatch")}})};this._components=a}_bindEvents(){const{_root:t,options:e}=this,n=[m(t.interaction.clear,"click",(()=>this._clearColor())),m([t.interaction.cancel,t.preview.lastColor],"click",(()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")})),m(t.interaction.save,"click",(()=>{!this.applyColor()&&!e.showAlways&&this.hide()})),m(t.interaction.result,["keyup","input"],(r=>{this.setColor(r.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),r.stopImmediatePropagation()})),m(t.interaction.result,["focus","blur"],(r=>{this._recalc=r.type==="blur",this._recalc&&this._updateOutput(null)})),m([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],(()=>this._recalc=!0),{passive:!0})];if(!e.showAlways){const r=e.closeWithKey;n.push(m(t.button,"click",(()=>this.isOpen()?this.hide():this.show())),m(document,"keyup",(o=>this.isOpen()&&(o.key===r||o.code===r)&&this.hide())),m(document,["touchstart","mousedown"],(o=>{this.isOpen()&&!K(o).some((i=>i===t.app||i===t.button))&&this.hide()}),{capture:!0}))}if(e.adjustableNumbers){const r={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};Y(t.interaction.result,((o,i,a)=>{const s=r[this.getColorRepresentation().toLowerCase()];if(s){const c=s[a],p=o+(c>=100?1e3*i:i);return p<=0?0:Number((p<c?p:c).toPrecision(3))}return o}))}if(e.autoReposition&&!e.inline){let r=null;const o=this;n.push(m(window,["scroll","resize"],(()=>{o.isOpen()&&(e.closeOnScroll&&o.hide(),r===null?(r=setTimeout((()=>r=null),100),requestAnimationFrame((function i(){o._rePositioningPicker(),r!==null&&requestAnimationFrame(i)}))):(clearTimeout(r),r=setTimeout((()=>r=null),100)))}),{capture:!0}))}this._eventBindings=n}_rePositioningPicker(){const{options:t}=this;if(!t.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const e=this._root.app,n=e.getBoundingClientRect();e.style.top=(window.innerHeight-n.height)/2+"px",e.style.left=(window.innerWidth-n.width)/2+"px"}}_updateOutput(t){const{_root:e,_color:n,options:r}=this;if(e.interaction.type()){const o=`to${e.interaction.type().getAttribute("data-type")}`;e.interaction.result.value=typeof n[o]=="function"?n[o]().toString(r.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",n,t,this)}_clearColor(t=!1){const{_root:e,options:n}=this;n.useAsButton||e.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),n.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){const{values:e,type:n,a:r}=ut(t),{lockOpacity:o}=this.options,i=r!==void 0&&r!==1;return e&&e.length===3&&(e[3]=void 0),{values:!e||o&&i?null:e,type:n}}_t(t){return this.options.i18n[t]||S.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach((n=>n(...e,this)))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const n=this._eventListener[t]||[],r=n.indexOf(e);return~r&&n.splice(r,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:n,_root:r}=this,o=k(...e),i=R(`<button type="button" style="--pcr-color: ${o.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return r.swatches.appendChild(i),n.push({el:i,color:o}),this._eventBindings.push(m(i,"click",(()=>{this.setHSVA(...o.toHSVA(),!0),this._emit("swatchselect",o),this._emit("change",o,"swatch",this)}))),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:n}=e;return this._root.swatches.removeChild(n),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:n}=this._root,r=this._color.toRGBA().toString(0);return e.lastColor.style.setProperty("--pcr-color",r),this.options.useAsButton||n.style.setProperty("--pcr-color",r),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach((t=>y(...t))),Object.keys(this._components).forEach((t=>this._components[t].destroy()))}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach((n=>this[n]=null))}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,n=0,r=1,o=!1){const i=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||n<0||n>100||r<0||r>1)return!1;this._color=k(t,e,n,r);const{hue:a,opacity:s,palette:c}=this._components;return a.update(t/360),s.update(r),c.update(e/100,1-n/100),o||this.applyColor(),i&&this._updateOutput(),this._recalc=i,!0}setColor(t,e=!1){if(t===null)return this._clearColor(e),!0;const{values:n,type:r}=this._parseLocalColor(t);if(n){const o=r.toUpperCase(),{options:i}=this._root.interaction,a=i.find((s=>s.getAttribute("data-type")===o));if(a&&!a.hidden)for(const s of i)s.classList[s===a?"add":"remove"]("active");return!!this.setHSVA(...n,e)&&this.setColorRepresentation(o)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find((e=>e.getAttribute("data-type").startsWith(t)&&!e.click()))}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}return $=$.default})()))})(X)),X.exports}var Lt=Et();const xt=Ot(Lt),Rt=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"}));export{Rt as p};
