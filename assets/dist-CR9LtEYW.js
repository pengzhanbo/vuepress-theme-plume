var e=`npm2url/dist/index.cjs`,t={jsdelivr:e=>`https://cdn.jsdelivr.net/npm/${e}`,unpkg:e=>`https://unpkg.com/${e}`};async function n(e,t){let n=await fetch(e,{signal:t});if(!n.ok)throw n;await n.text()}var r=class{constructor(){this.providers={...t},this.provider=`jsdelivr`}async getFastestProvider(t=5e3,r=e){let i=new AbortController,a=0;try{return await new Promise((e,o)=>{Promise.all(Object.entries(this.providers).map(async([t,a])=>{try{await n(a(r),i.signal),e(t)}catch{}})).then(()=>o(Error(`All providers failed`))),a=setTimeout(o,t,Error(`Timed out`))})}finally{i.abort(),clearTimeout(a)}}async findFastestProvider(e,t){return this.provider=await this.getFastestProvider(e,t),this.provider}setProvider(e,t){t?this.providers[e]=t:delete this.providers[e]}getFullUrl(e,t=this.provider){if(e.includes(`://`))return e;let n=this.providers[t];if(!n)throw Error(`Provider ${t} not found`);return n(e)}};new r;var i=class{constructor(){this.listeners=[]}tap(e){return this.listeners.push(e),()=>this.revoke(e)}revoke(e){let t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}revokeAll(){this.listeners.splice(0)}call(...e){for(let t of this.listeners)t(...e)}},a=Math.random().toString(36).slice(2,8),o=0;function s(){return o+=1,`mm-${a}-${o}`}function c(){}function l(e,t){let n=(e,r)=>t(e,()=>e.children?.map(t=>n(t,e)),r);return n(e)}function u(e,...t){let n=(e||``).split(` `).filter(Boolean);return t.forEach(e=>{e&&n.indexOf(e)<0&&n.push(e)}),n.join(` `)}function d(e,t){return(...n)=>t(e,...n)}function f(){let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}function p(e){let t={};return function(...n){let r=`${n[0]}`,i=t[r];return i||(i={value:e(...n)},t[r]=i),i.value}}function m(e,t){let n={timer:0};function r(){n.timer&&=(window.clearTimeout(n.timer),0)}function i(){r(),n.args&&(n.result=e(...n.args))}return function(...e){return r(),n.args=e,n.timer=window.setTimeout(i,t),n.result}}var h=1,g=2,_=`http://www.w3.org/2000/svg`,v=`http://www.w3.org/1999/xlink`,y={show:v,actuate:v,href:v},b=e=>typeof e==`string`||typeof e==`number`,x=e=>e?.vtype===h,S=e=>e?.vtype===g;function C(e,t,...n){return t=Object.assign({},t,{children:n.length===1?n[0]:n}),w(e,t)}function w(e,t){let n;if(typeof e==`string`)n=h;else if(typeof e==`function`)n=g;else throw Error(`Invalid VNode type`);return{vtype:n,type:e,props:t}}function T(e){return e.children}var E={isSvg:!1};function D(e,t){Array.isArray(t)||(t=[t]),t=t.filter(Boolean),t.length&&e.append(...t)}function O(e,t,n){for(let r in t)if(!(r===`key`||r===`children`||r===`ref`))if(r===`dangerouslySetInnerHTML`)e.innerHTML=t[r].__html;else if(r===`innerHTML`||r===`textContent`||r===`innerText`||r===`value`&&[`textarea`,`select`].includes(e.tagName)){let n=t[r];n!=null&&(e[r]=n)}else r.startsWith(`on`)?e[r.toLowerCase()]=t[r]:A(e,r,t[r],n.isSvg)}var k={className:`class`,labelFor:`for`};function A(e,t,n,r){if(t=k[t]||t,n===!0)e.setAttribute(t,``);else if(n===!1)e.removeAttribute(t);else{let i=r?y[t]:void 0;i===void 0?e.setAttribute(t,n):e.setAttributeNS(i,t,n)}}function j(e){return e.reduce((e,t)=>e.concat(t),[])}function M(e,t){return Array.isArray(e)?j(e.map(e=>M(e,t))):N(e,t)}function N(e,t=E){if(e==null||typeof e==`boolean`)return null;if(e instanceof Node)return e;if(S(e)){let{type:n,props:r}=e;if(n===T){let e=document.createDocumentFragment();return r.children&&D(e,M(r.children,t)),e}return N(n(r),t)}if(b(e))return document.createTextNode(`${e}`);if(x(e)){let n,{type:r,props:i}=e;if(!t.isSvg&&r===`svg`&&(t=Object.assign({},t,{isSvg:!0})),n=t.isSvg?document.createElementNS(_,r):document.createElement(r),O(n,i,t),i.children){let e=t;t.isSvg&&r===`foreignObject`&&(e=Object.assign({},e,{isSvg:!1}));let a=M(i.children,e);a!=null&&D(n,a)}let{ref:a}=i;return typeof a==`function`&&a(n),n}throw Error(`mount: Invalid Vnode!`)}function P(e){return N(e)}function F(...e){return P(C(...e))}var I=p(e=>{document.head.append(F(`link`,{rel:`preload`,as:`script`,href:e}))}),L={},R={};async function z(e,t){let n=e.type===`script`&&e.data?.src||``;if(e.loaded||=L[n],!e.loaded){let r=f();if(e.loaded=r.promise,e.type===`script`&&(document.head.append(F(`script`,{...e.data,onLoad:()=>r.resolve(),onError:r.reject})),n?L[n]=e.loaded:r.resolve()),e.type===`iife`){let{fn:n,getParams:i}=e.data;n(...i?.(t)||[]),r.resolve()}}await e.loaded}async function B(e){let t=e.type===`stylesheet`&&e.data.href||``;if(e.loaded||=R[t],!e.loaded){let n=f();e.loaded=n.promise,t&&(R[t]=e.loaded),e.type===`style`?(document.head.append(F(`style`,{textContent:e.data})),n.resolve()):t&&(document.head.append(F(`link`,{rel:`stylesheet`,...e.data})),fetch(t).then(e=>{if(e.ok)return e.text();throw e}).then(()=>n.resolve(),n.reject))}await e.loaded}async function V(e,t){e.forEach(e=>{e.type===`script`&&e.data?.src&&I(e.data.src)}),t={getMarkmap:()=>window.markmap,...t};for(let n of e)await z(n,t)}async function H(e){await Promise.all(e.map(e=>B(e)))}function U(e){return{type:`script`,data:{src:e}}}function W(e){return{type:`stylesheet`,data:{href:e}}}export{U as a,H as c,l as d,d as f,W as i,V as l,r as n,m as o,u as r,s,i as t,c as u};